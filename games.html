<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dino Runner</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 100vh;
      background-color: #f0f8ff;
      overflow: hidden;
      font-family: sans-serif;
    }

    .game-container {
      position: relative;
      width: 600px;
      height: 200px;
      border: 2px solid #333;
      background-color: #fff;
      overflow: hidden;
    }

    /* Dino */
    #dino {
      position: absolute;
      bottom: 10px;
      left: 50px;
      width: 40px;
      height: 40px;
      background-color: #555;
      border-radius: 50% 50% 0 0; /* Dino's head */
    }

    #dino::before {
      content: '';
      position: absolute;
      width: 20px;
      height: 10px;
      background-color: #fff;
      border-radius: 50%;
      top: 5px;
      left: 10px;
    }

    #dino::after {
      content: '';
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #fff;
      border-radius: 50%;
      bottom: 5px;
      right: 5px;
    }

    .tail {
      position: absolute;
      bottom: 15px;
      left: -15px;
      width: 30px;
      height: 15px;
      background-color: #555;
      border-radius: 50%;
      transform: rotate(-45deg);
    }

    #obstacle {
      position: absolute;
      bottom: 10px;
      right: -50px;
      width: 40px;
      height: 60px;
      background-color: #8B0000;
    }

    .ground {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 10px;
      background-color: #555;
    }

    #score, #high-score {
      position: absolute;
      top: 10px;
      font-size: 20px;
    }

    #score {
      left: 10px;
    }

    #high-score {
      right: 10px;
    }

    #game-over {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      color: red;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div id="dino">
      <div class="tail"></div>
    </div>
    <div id="obstacle"></div>
    <div class="ground"></div>
    <div id="score">Score: 0</div>
    <div id="high-score">High Score: 0</div>
  </div>
  <div id="game-over" class="hidden">Game Over! Press F5 to Restart</div>

  <script>
    const dino = document.getElementById('dino');
    const obstacle = document.getElementById('obstacle');
    const scoreDiv = document.getElementById('score');
    const highScoreDiv = document.getElementById('high-score');
    const gameOverDiv = document.getElementById('game-over');

    let isJumping = false;
    let isGameOver = false;
    let score = 0;
    let obstacleSpeed = 5;
    let highScore = localStorage.getItem('highScore') ? parseInt(localStorage.getItem('highScore')) : 0;
    let speedIncrementInterval;

    // Initialize high score
    highScoreDiv.textContent = 'High Score: ' + highScore;

    function jump() {
      if (isJumping || isGameOver) return;
      isJumping = true;
      let jumpHeight = 0;
      const maxJumpHeight = 150; // Increase jump height
      const jumpSpeed = 10; // Adjust the jump speed for smoother rise/fall

      const upInterval = setInterval(() => {
        if (jumpHeight >= maxJumpHeight) {
          clearInterval(upInterval);
          const downInterval = setInterval(() => {
            if (jumpHeight <= 0) {
              clearInterval(downInterval);
              isJumping = false;
            } else {
              jumpHeight -= 5;
              dino.style.bottom = (10 + jumpHeight) + 'px';
            }
          }, 20);
        } else {
          jumpHeight += jumpSpeed; // Jump higher
          dino.style.bottom = (10 + jumpHeight) + 'px';
        }
      }, 20);
    }

    function startObstacle() {
      obstacle.style.right = '-50px';
      const moveObstacle = setInterval(() => {
        if (isGameOver) {
          clearInterval(moveObstacle);
          return;
        }

        let currentRight = parseInt(window.getComputedStyle(obstacle).getPropertyValue('right'));
        obstacle.style.right = (currentRight + obstacleSpeed) + 'px';

        const containerWidth = document.querySelector('.game-container').offsetWidth;
        if (currentRight > containerWidth + 50) {
          obstacle.style.right = '-50px';
        }

        checkCollision();
      }, 20);
    }

    function checkCollision() {
      const dinoRect = dino.getBoundingClientRect();
      const obstacleRect = obstacle.getBoundingClientRect();

      if (
        dinoRect.left < obstacleRect.right &&
        dinoRect.right > obstacleRect.left &&
        dinoRect.bottom > obstacleRect.top
      ) {
        gameOver();
      }
    }

    function gameOver() {
      isGameOver = true;
      if (score > highScore) {
        highScore = score;
        localStorage.setItem('highScore', highScore);
        highScoreDiv.textContent = 'High Score: ' + highScore;
      }
      gameOverDiv.classList.remove('hidden');
    }

    function startScore() {
      const scoreInterval = setInterval(() => {
        if (isGameOver) {
          clearInterval(scoreInterval);
          return;
        }
        score += 1;
        scoreDiv.textContent = 'Score: ' + score;
      }, 100);
    }

    function startSpeedIncrement() {
      speedIncrementInterval = setInterval(() => {
        if (isGameOver) {
          clearInterval(speedIncrementInterval);
          return;
        }
        if (score % 10 === 0 && obstacleSpeed < 15) {
          obstacleSpeed += 0.1;
        }
      }, 100);
    }

    document.addEventListener('keydown', (event) => {
      if ((event.key === ' ' || event.key === 'ArrowUp') && !isGameOver) {
        jump();
      }
    });

    startObstacle();
    startScore();
    startSpeedIncrement();
  </script>
</body>
</html>
